" General Settings
set searchengine duckduckgo
set theme shydactyl
set smoothscroll true
set containerindicator false
set editorcmd kitty --class "popup-editor" helix

" Binds
bind n scrollline 10
bind l mode ignore
bind e scrollline -10
bind i scrollpx 50
bind ;x hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool click 1")}
bind ;c hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool click 3")}
bind ;: hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y)}
bind ;X hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool keydown ctrl+shift; xdotool click 1; xdotool keyup ctrl+shift")}
bind <A-p> pin
bind <A-m> mute toggle
bind <F1> help
bind o fillcmdline open
bind O current_url open
bind w fillcmdline winopen
bind W current_url winopen
bind t fillcmdline tabopen
bind ]] followpage next
bind [[ followpage prev
bind [c urlincrement -1
bind ]c urlincrement 1
bind <C-x> urlincrement -1
bind <C-a> urlincrement 1
bind T current_url tabopen
bind yy clipboard yank
bind ys clipboard yankshort
bind yq text2qr --timeout 5
bind yc clipboard yankcanon
bind ym clipboard yankmd
bind yo clipboard yankorg
bind yt clipboard yanktitle
bind gh home
bind gH home true
bind p clipboard open
bind P clipboard tabopen
unbind j
bind <C-e> scrollline 10
unbind k
bind <C-y> scrollline -10
bind h scrollpx -50
bind l scrollpx 50
bind G scrollto 100
bind gg scrollto 0
bind <C-u> scrollpage -0.5
bind <C-d> scrollpage 0.5
bind <C-f> scrollpage 1
bind <C-b> scrollpage -1
bind <C-v> nmode ignore 1 mode normal
bind $ scrollto 100 x
bind ^ scrollto 0 x
bind H back
bind L forward
bind <C-o> jumpprev
bind <C-i> jumpnext
bind d scrollpage 0.5
bind D js tri.excmds.composite('tabprev;', 'tabclose #')
bind gx0 tabclosealltoleft
bind gx$ tabclosealltoright
bind << tabmove -1
bind >> tabmove +1
bind u scrollpage -0.5
bind U undo window
bind r reload
bind R reloadhard
bind x stop
bind gi focusinput
bind g? rot13
bind g! jumble
bind g; changelistjump -1
unbind J
unbind K
bind gt tabnext_gt
bind gT tabprev
bind g^ tabfirst
bind g0 tabfirst
bind g$ tablast
bind ga tabaudio
bind gr reader --old
bind gu urlparent
bind gU urlroot
bind gf viewsource
bind : fillcmdline_notrail
bind s fillcmdline tabopen search
bind S fillcmdline open search
bind M gobble 1 quickmark
bind B fillcmdline taball
bind b fillcmdline tab
bind ZZ qall
bind f hint
bind F hint -b
bind gF hint -qb
bind ;i hint -i
bind ;b hint -b
bind ;o hint
bind ;I hint -I
bind ;k hint -k
bind ;K hint -K
bind ;y hint -y
bind ;Y hint -cF img i => tri.excmds.yankimage(tri.urlutils.getAbsoluteURL(i.src))
bind ;p hint -p
bind ;h hint -h
bind v hint -h
bind ;P hint -P
bind ;r hint -r
bind ;s hint -s
bind ;S hint -S
bind ;a hint -a
bind ;A hint -A
bind ;; hint -; *
bind ;# hint -#
bind ;v hint -W mpvsafe
bind ;V hint -V
bind ;w hint -w
bind ;t hint -W tabopen
bind ;O hint -W fillcmdline_notrail open 
bind ;W hint -W fillcmdline_notrail winopen 
bind ;T hint -W fillcmdline_notrail tabopen 
bind ;d hint -W tabopen --discard
bind ;gd hint -qW tabopen --discard
bind ;z hint -z
bind ;m hint -JFc img i => tri.excmds.open('https://lens.google.com/uploadbyurl?url='+i.src)
bind ;M hint -JFc img i => tri.excmds.tabopen('https://lens.google.com/uploadbyurl?url='+i.src)
bind ;gi hint -qi
bind ;gI hint -qI
bind ;gk hint -qk
bind ;gy hint -qy
bind ;gp hint -qp
bind ;gP hint -qP
bind ;gr hint -qr
bind ;gs hint -qs
bind ;gS hint -qS
bind ;ga hint -qa
bind ;gA hint -qA
bind ;g; hint -q;
bind ;g# hint -q#
bind ;gv hint -qW mpvsafe
bind ;gw hint -qw
bind ;gb hint -qb
bind ;gF hint -qb
bind ;gf hint -q
bind <S-Insert> mode ignore
bind <AC-Escape> mode ignore
bind <AC-`> mode ignore
bind <S-Escape> mode ignore
bind <Escape> composite mode normal ; hidecmdline
bind <C-[> composite mode normal ; hidecmdline
bind a current_url bmark
bind A bmark
bind zi zoom 0.1 true
bind zo zoom -0.1 true
bind zm zoom 0.5 true
bind zr zoom -0.5 true
bind zM zoom 0.5 true
bind zR zoom -0.5 true
bind zz zoom 1
bind zI zoom 3
bind zO zoom 0.3
bind . repeat
bind <AS-ArrowUp><AS-ArrowUp><AS-ArrowDown><AS-ArrowDown><AS-ArrowLeft><AS-ArrowRight><AS-ArrowLeft><AS-ArrowRight>ba open https://www.youtube.com/watch?v=M3iOROuTuMA
bind m gobble 1 markadd
bind ` gobble 1 markjump
bind gk scrollto 100
bind N tabnext
bind E tabprev
bind I forward
bind q tabclose
bind Q undo
bind --mode=visual 0 js document.getSelection().modify("extend","backward","lineboundary")
bind --mode=visual ;x hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool click 1")}
bind --mode=visual ;c hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool click 3")}
bind --mode=visual ;: hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y)}
bind --mode=visual ;X hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet("xdotool mousemove --sync " + window.devicePixelRatio * pos.x + " " + window.devicePixelRatio * pos.y + "; xdotool keydown ctrl+shift; xdotool click 1; xdotool keyup ctrl+shift")}
bind --mode=visual <A-p> pin
bind --mode=visual <A-m> mute toggle
bind --mode=visual <F1> help
bind --mode=visual o js tri.visual.reverseSelection(document.getSelection())
bind --mode=visual O current_url open
bind --mode=visual w js document.getSelection().modify("extend","forward","word"); document.getSelection().modify("extend","forward","word"); document.getSelection().modify("extend","backward","word"); document.getSelection().modify("extend","forward","character")
bind --mode=visual W current_url winopen
bind --mode=visual t fillcmdline tabopen
bind --mode=visual ]] followpage next
bind --mode=visual [[ followpage prev
bind --mode=visual [c urlincrement -1
bind --mode=visual ]c urlincrement 1
bind --mode=visual <C-x> urlincrement -1
bind --mode=visual <C-a> urlincrement 1
bind --mode=visual T current_url tabopen
bind --mode=visual yy clipboard yank
bind --mode=visual ys clipboard yankshort
bind --mode=visual yq text2qr --timeout 5
bind --mode=visual yc clipboard yankcanon
bind --mode=visual ym clipboard yankmd
bind --mode=visual yo clipboard yankorg
bind --mode=visual yt clipboard yanktitle
bind --mode=visual gh home
bind --mode=visual gH home true
bind --mode=visual p clipboard open
bind --mode=visual P clipboard tabopen
bind --mode=visual <C-e> scrollline 10
bind --mode=visual <C-y> scrollline -10
bind --mode=visual h js document.getSelection().modify("extend","backward","character")
bind --mode=visual i js document.getSelection().modify("extend","forward","character")
bind --mode=visual G scrollto 100
bind --mode=visual gg scrollto 0
bind --mode=visual <C-u> scrollpage -0.5
bind --mode=visual <C-d> scrollpage 0.5
bind --mode=visual <C-f> scrollpage 1
bind --mode=visual <C-b> scrollpage -1
bind --mode=visual <C-v> nmode ignore 1 mode normal
bind --mode=visual $ js document.getSelection().modify("extend","forward","lineboundary")
bind --mode=visual ^ scrollto 0 x
bind --mode=visual H back
bind --mode=visual I forward
bind --mode=visual <C-o> jumpprev
bind --mode=visual <C-i> jumpnext
bind --mode=visual d tabclose
bind --mode=visual D js tri.excmds.composite('tabprev;', 'tabclose #')
bind --mode=visual gx0 tabclosealltoleft
bind --mode=visual gx$ tabclosealltoright
bind --mode=visual << tabmove -1
bind --mode=visual >> tabmove +1
bind --mode=visual u undo
bind --mode=visual U undo window
bind --mode=visual r reload
bind --mode=visual R reloadhard
bind --mode=visual x stop
bind --mode=visual gi focusinput -l
bind --mode=visual g? rot13
bind --mode=visual g! jumble
bind --mode=visual g; changelistjump -1
bind --mode=visual gt tabnext_gt
bind --mode=visual gT tabprev
bind --mode=visual g^ tabfirst
bind --mode=visual g0 tabfirst
bind --mode=visual g$ tablast
bind --mode=visual ga tabaudio
bind --mode=visual gr reader --old
bind --mode=visual gu urlparent
bind --mode=visual gU urlroot
bind --mode=visual gf viewsource
bind --mode=visual : fillcmdline_notrail
bind --mode=visual s composite js document.getSelection().toString() | fillcmdline open search
bind --mode=visual S composite js document.getSelection().toString() | fillcmdline tabopen search
bind --mode=visual M gobble 1 quickmark
bind --mode=visual B fillcmdline taball
bind --mode=visual b js document.getSelection().modify("extend","backward","character"); document.getSelection().modify("extend","backward","word"); document.getSelection().modify("extend","forward","character")
bind --mode=visual ZZ qall
bind --mode=visual f hint
bind --mode=visual F hint -b
bind --mode=visual gF hint -qb
bind --mode=visual ;i hint -i
bind --mode=visual ;b hint -b
bind --mode=visual ;o hint
bind --mode=visual ;I hint -I
bind --mode=visual ;k hint -k
bind --mode=visual ;K hint -K
bind --mode=visual ;y hint -y
bind --mode=visual ;Y hint -cF img i => tri.excmds.yankimage(tri.urlutils.getAbsoluteURL(i.src))
bind --mode=visual ;p hint -p
bind --mode=visual ;h hint -h
bind --mode=visual v hint -h
bind --mode=visual ;P hint -P
bind --mode=visual ;r hint -r
bind --mode=visual ;s hint -s
bind --mode=visual ;S hint -S
bind --mode=visual ;a hint -a
bind --mode=visual ;A hint -A
bind --mode=visual ;; hint -; *
bind --mode=visual ;# hint -#
bind --mode=visual ;v hint -W mpvsafe
bind --mode=visual ;V hint -V
bind --mode=visual ;w hint -w
bind --mode=visual ;t hint -W tabopen
bind --mode=visual ;O hint -W fillcmdline_notrail open 
bind --mode=visual ;W hint -W fillcmdline_notrail winopen 
bind --mode=visual ;T hint -W fillcmdline_notrail tabopen 
bind --mode=visual ;d hint -W tabopen --discard
bind --mode=visual ;gd hint -qW tabopen --discard
bind --mode=visual ;z hint -z
bind --mode=visual ;m hint -JFc img i => tri.excmds.open('https://lens.google.com/uploadbyurl?url='+i.src)
bind --mode=visual ;M hint -JFc img i => tri.excmds.tabopen('https://lens.google.com/uploadbyurl?url='+i.src)
bind --mode=visual ;gi hint -qi
bind --mode=visual ;gI hint -qI
bind --mode=visual ;gk hint -qk
bind --mode=visual ;gy hint -qy
bind --mode=visual ;gp hint -qp
bind --mode=visual ;gP hint -qP
bind --mode=visual ;gr hint -qr
bind --mode=visual ;gs hint -qs
bind --mode=visual ;gS hint -qS
bind --mode=visual ;ga hint -qa
bind --mode=visual ;gA hint -qA
bind --mode=visual ;g; hint -q;
bind --mode=visual ;g# hint -q#
bind --mode=visual ;gv hint -qW mpvsafe
bind --mode=visual ;gw hint -qw
bind --mode=visual ;gb hint -qb
bind --mode=visual ;gF hint -qb
bind --mode=visual ;gf hint -q
bind --mode=visual <S-Insert> mode ignore
bind --mode=visual <AC-Escape> mode ignore
bind --mode=visual <AC-`> mode ignore
bind --mode=visual <S-Escape> mode ignore
bind --mode=visual <Escape> composite js document.getSelection().empty(); mode normal; hidecmdline
bind --mode=visual <C-[> composite js document.getSelection().empty(); mode normal ; hidecmdline
bind --mode=visual a current_url bmark
bind --mode=visual A bmark
bind --mode=visual zi zoom 0.1 true
bind --mode=visual zo zoom -0.1 true
bind --mode=visual zm zoom 0.5 true
bind --mode=visual zr zoom -0.5 true
bind --mode=visual zM zoom 0.5 true
bind --mode=visual zR zoom -0.5 true
bind --mode=visual zz zoom 1
bind --mode=visual zI zoom 3
bind --mode=visual zO zoom 0.3
bind --mode=visual . repeat
bind --mode=visual <AS-ArrowUp><AS-ArrowUp><AS-ArrowDown><AS-ArrowDown><AS-ArrowLeft><AS-ArrowRight><AS-ArrowLeft><AS-ArrowRight>ba open https://www.youtube.com/watch?v=M3iOROuTuMA
bind --mode=visual m gobble 1 markadd
bind --mode=visual ` gobble 1 markjump
bind --mode=visual n js document.getSelection().modify("extend","forward","line")
bind --mode=visual k js document.getSelection().modify("extend","forward","word")
bind --mode=visual gk scrollto 100
bind --mode=visual N tabnext
bind --mode=visual E tabprev
bind --mode=visual y composite js document.getSelection().toString() | clipboard yank
bind --mode=visual q composite js document.getSelection().toString() | text2qr --timeout 5
bind --mode=visual e js document.getSelection().modify("extend","backward","line")
bind --mode=visual = js let n = document.getSelection().anchorNode.parentNode; let s = window.getSelection(); let r = document.createRange(); s.removeAllRanges(); r.selectNodeContents(n); s.addRange(r)
bind --mode=visual 🕷🕷INHERITS🕷🕷 nmaps
bind --mode=visual l js document.getSelection().modify("extend","forward","character")
bind --mode=visual j js document.getSelection().modify("extend","forward","line")

" For syntax highlighting see https://github.com/tridactyl/vim-tridactyl
" vim: set filetype=tridactyl
